"use strict";(self["webpackChunke_commerce"]=self["webpackChunke_commerce"]||[]).push([[893],{4238:function(t,e,n){var o=n(6265),r=n.n(o),i=n(1020),s=n(6294);const d=(0,s.Z)();e["Z"]=(0,i.Q_)("productStore",{state:()=>({products:[]}),getters:{sortProducts:t=>t.products.sort(((t,e)=>t.price-e.price))},actions:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/joe94113/products/all";d.isLoading=!0,r().get(t).then((t=>{this.products=t.data.products,console.log("products:",t),d.isLoading=!1}))}}})},6311:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var o=n(3396),r=n(7139);const i={class:"table align-middle"},s=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"圖片"),(0,o._)("th",null,"商品名稱"),(0,o._)("th",null,"價格"),(0,o._)("th")])],-1),d={style:{width:"200px"}},c=["onClick"],l={key:0,class:"h5"},a={key:1,class:"h6"},u={key:2,class:"h5"},g={class:"btn-group btn-group-sm"},p=["onClick"],h=["disabled","onClick"],_={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},k=(0,o._)("span",{class:"visually-hidden"},"Loading...",-1),b=[k],w=(0,o.Uk)(" 加到購物車 ");function v(t,e,n,k,v,m){const y=(0,o.up)("Loading"),C=(0,o.up)("ShopBlade");return(0,o.wg)(),(0,o.j4)(C,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(y,{active:t.isLoading},null,8,["active"]),(0,o._)("table",i,[s,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.sortProducts,(n=>((0,o.wg)(),(0,o.iD)("tr",{key:n.id},[(0,o._)("td",d,[(0,o._)("div",{style:(0,r.j5)([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${n.imageUrl??""})`}])},null,4)]),(0,o._)("td",null,[(0,o._)("a",{type:"button",class:"text-dark",onClick:t=>m.getProduct(n.id),onKeydown:e[0]||(e[0]=(...e)=>t.bar&&t.bar(...e))},(0,r.zw)(n.title),41,c)]),(0,o._)("td",null,[n.price?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",l,(0,r.zw)(n.origin_price)+" 元",1)),n.price?((0,o.wg)(),(0,o.iD)("del",a,"原價 "+(0,r.zw)(n.origin_price)+" 元",1)):(0,o.kq)("",!0),n.price?((0,o.wg)(),(0,o.iD)("div",u,"現在只要 "+(0,r.zw)(n.price)+" 元",1)):(0,o.kq)("",!0)]),(0,o._)("td",null,[(0,o._)("div",g,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:t=>m.getProduct(n.id)}," 查看更多 ",8,p),(0,o._)("button",{type:"button",class:"btn btn-outline-danger",disabled:n.id==t.cartLoadingItem,onClick:e=>t.addCart(n.id)},[n.id==t.cartLoadingItem?((0,o.wg)(),(0,o.iD)("div",_,b)):(0,o.kq)("",!0),w],8,h)])])])))),128))])])])])),_:1})}var m=n(1020),y=n(283),C=n(4238),L=n(6294),P=n(4677),f={data(){return{}},components:{ShopBlade:y.Z},computed:{...(0,m.rn)(C.Z,["sortProducts"]),...(0,m.rn)(L.Z,["isLoading","cartLoadingItem"])},methods:{...(0,m.nv)(C.Z,["getProducts"]),...(0,m.nv)(P.Z,["addCart"]),getProduct(t){this.$router.push(`/product/${t}`)}},created(){this.getProducts()}},Z=n(89);const D=(0,Z.Z)(f,[["render",v]]);var x=D}}]);
//# sourceMappingURL=products.be746b7b.js.map